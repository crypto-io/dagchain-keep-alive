{"version":3,"file":"index.js","sources":["src/index.js"],"sourcesContent":["import IPFS from 'ipfs-api';\r\n\r\nexport const twelveHours = 43200000;\r\nexport default (published, {ipfs, time, once}, cb) => {\r\n  if (!ipfs) {\r\n    ipfs = new IPFS();\r\n  }\r\n\tconst aliveTimeout = () => {\r\n    setTimeout(async () => {\r\n      published = await ipfs.name.resolve(published['name'] || published);\r\n      published = await ipfs.name.publish(published);\r\n      if (cb) {\r\n        cb(null, published);\r\n      }\r\n      if (!once) {\r\n        return aliveTimeout();\r\n      }\r\n\t\t}, time || twelveHours);\r\n  }\r\n  aliveTimeout();\r\n};\r\n"],"names":["twelveHours","published","ipfs","time","once","cb","IPFS","aliveTimeout","name","resolve","publish"],"mappings":";;;;;;;;AAEO,MAAMA,cAAc,QAApB;AACP,aAAe,CAACC,SAAD,EAAY,EAACC,IAAD,EAAOC,IAAP,EAAaC,IAAb,EAAZ,EAAgCC,EAAhC,KAAuC;MAChD,CAACH,IAAL,EAAW;WACF,IAAII,IAAJ,EAAP;;QAEGC,eAAe,MAAM;eACb,YAAY;kBACT,MAAML,KAAKM,IAAL,CAAUC,OAAV,CAAkBR,UAAU,MAAV,KAAqBA,SAAvC,CAAlB;kBACY,MAAMC,KAAKM,IAAL,CAAUE,OAAV,CAAkBT,SAAlB,CAAlB;UACII,EAAJ,EAAQ;WACH,IAAH,EAASJ,SAAT;;UAEE,CAACG,IAAL,EAAW;eACFG,cAAP;;KAPJ,EASCJ,QAAQH,WATT;GADH;;CAJD;;;"}